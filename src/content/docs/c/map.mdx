---
title: Map
description: Reference page for the generic vector mapping funcitons.
sidebar:
  order: 4
---

This page details all the functions that apply linear maps to generic 2d vectors.

### `map_to_1d`

```c
int map_to_1d(MapVec v, Map1d T);
```

This function allows an arbitrary `Map1d` linear map to be applied to a `MapVec`, sending it to some integer. Allows things like:

```c
map_to_1d((MapVec)p, ED31);
```

This would send any `Pitch` to a 31-tone equal temperament equivalent of MIDI numbering, such that:

|   |                     |
|:-:|:-------------------:|
| 0 | $\sf{C}_{-1}$       |
| 1 | $\sf{D}𝄫_{-1}$      |
| 2 | $\sf{C}\sharp_{-1}$ |
| 3 | $\sf{D}\flat_{-1}$  |
| 4 | $\sf{C}𝄪_{-1}$      |
| 5 | $\sf{D}_{-1}$       |
| 6 | $\sf{E}𝄫_{-1}$      |

*and so on...*

### `map_to_2d`

```c
MappedVec map_to_2d(MapVec v, Map2d T);
```

This function allows an arbitrary `Map2d` linear map to be applied to a `MapVec`, essentially facilitating a [change of basis](https://en.wikipedia.org/wiki/Change_of_basis). The returned vector is therefore of a unique type: [`MappedVec`](/c/types/#mappedvec).

This could be useful if working with generalised isomorphic keyboard layouts. For example, if reading numbers off a grid intended to represent a [Wicki-Hayden layout](https://en.wikipedia.org/wiki/Wicki%E2%80%93Hayden_pitch_layout), they could be parsed into Meantonal `Pitch` vectors simply:

```c
typedef struct {
    int x, y;
} Key;

Pitch pitch_from_key(Key k) {
    return (Pitch) map_to_2d(k, WICKI_FROM);
}
```


