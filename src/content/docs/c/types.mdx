---
title: Types
description: An overview of the primitive types in Meantonal's C implementation.
sidebar:
  order: 0
---

## Primitive Types

The two most fundamental types in Meantonal are `Pitch` and `Interval`, so let's begin by defining them.

### `Pitch`

A `Pitch` is a struct with two members, `w` and `h`.

```c
typedef struct {
    int w; // whole steps
    int h; // half steps
} Pitch;
```

- `w` holds the number of whole steps from $\sf{C}_{-1}$.
- `h` holds the number of half steps from $\sf{C}_{-1}$.

### `Interval`

An `Interval` is a struct with two members, `w` and `h`.

```c
typedef struct {
    int w; // whole steps
    int h; // half steps
} Interval;
```

- `w` holds the number of whole steps from the unison.
- `h` holds the number of half steps from the unison.

The `Pitch` and `Interval` type are effectively identical, and one can even be cast to the other. They are distinct because they generally represent different things. An `Interval` describes the distance *between* two `Pitch` vectors.

Check the [Pitches](/learn/pitch) and [Intervals](/learn/intervals) pages in the Learn category for an explanation of what these representations mean mathematically, and how they're constructed.

## Key types

These types store information used by Meantonal to reconcile pitches against a governing key or mode.

### `enum Mode`

Used with functions that operate on a `Key`. Numbered in descending fifths, starting with Lydian as 0.

```c
enum Mode {
    LYDIAN,
    IONIAN,
    MIXOLYDIAN,
    DORIAN,
    AEOLIAN,
    PHRYGIAN,
    LOCRIAN,

    MAJOR = IONIAN,
    MINOR = AEOLIAN
};
```

### `Key`

A key is a struct holding the "chroma" of a key (a proxy for letter name + accidental without an octave), and a mode.

```c
typedef struct {
    int chroma;
    enum Mode mode;
} Key;
```

### `enum Alteration`

This enum communicates the alteration of scale degrees within a key, used with [`degree_alteration`](/c/key/#degree_alteration).

```c
enum Alteration {
    FOREIGN_DEG_FLAT = -2,
    LOWERED_DEG,
    DIATONIC_DEG,
    RAISED_DEG,
    FOREIGN_DEG_SHARP
};
```

`FOREIGN_DEG_FLAT` and `FOREIGN_DEG_SHARP` indicate notes that do not lie within the window of 17 perfect fifths Meantonal uses to define a key (that is, the note could not resolve by diatonic semitone to a natural degree within the key or mode).

## Map Types

These types include mapping matrices for linear mapping operations and a special vector type to store the result of applying 2-dimensional maps.

### `Map1d`

The `Map1d` type represents a $1\times2$ matrix. Its members are labelled `m0` and `m1` to reinforce this.

```c
typedef struct {
    int m0, m1;
} Map1d;
```

Multiplying a `Map1d` matrix with a `MapVec` via [`pitch_map_1d`](/c/map/map_to_1d) produces a single integer as the result.

Multiplying a $1\times2$ matrix with a 2d vector is equivalent to taking the dot product between two 2d vectors, so they can also be thought of as 2d vectors if you prefer.


### `Map2d`

The `Map2d` type represents a $2\times2$ matrix. Its members are labelled row-first, then column.

```c
typedef struct {
    int m00, m01;
    int m10, m11;
} Map2d;
```

Multiplying a `Map2d` matrix with a `Pitch` or `Interval` produces another 2d vector as the result, generally typed as `MapVec`.

### `MapVec`

The `MapVec` type exists to store the vectors used with a `Map1d` by [map_to_1d](/c/map/#map_to_1d) `Map2d` by [map_to_2d](/c/map/#map_to_2d).

```c
typedef struct {
    int x;
    int y;
} MapVec;
```

### `MirrorAxis`

The `MirrorAxis` type is to do with a different kind of mapping operation: pitch inversion about a fixed axis.

```c
typedef struct {
    int w;
    int h;
} MirrorAxis;
```

Slightly misleadingly, it looks like a regular `Pitch` or `Interval`, but this is strictly a result of how the inversion is applied.

Created by [`axis_create`](/c/pitch/#axis_create) or [`axis_from_spn`](/c/pitch/#axis_from_spn). Used with [`pitch_invert`](/c/pitch/#pitch_invert).

## Alternative Representations

The following types store alternative representations of `Pitch` and `Interval` vectors. They correspond more closely with natural language, and can therefore potentially be useful as:
- An intermediate type on the way to pretty printing information about a group of musical objects to the end user.
- An intermediate type on the way to rendering standard notation.
- An intermediate parsing target from plaintext before converting into `Pitch` or `Interval` vectors.

### `StandardPitch`

The `StandardPitch` type stores pitches in effectively the same fashion as [Scientific Pitch Notation](https://en.wikipedia.org/wiki/Scientific_pitch_notation): as a triple of `letter`, `accidental`, and `octave`.

```c
typedef struct {
    int letter;
    int accidental;
    int octave;
} StandardPitch;
```

Created with [`pitch_to_standard`](/c/pitch/#pitch_to_standard) from a regular `Pitch`. More rarely parsed into a `Pitch` using [`pitch_from_standard`](/c/pitch/#pitch_from_standard).
