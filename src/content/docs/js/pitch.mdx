---
title: Pitch
description: An overview of the Pitch class and its methods.
sidebar:
  order: 1
---

import { Aside } from '@astrojs/starlight/components';

This page details the `Pitch` class and all its methods.

## Creating Pitches

There are three main ways to create `Pitch` vectors from scratch. Using the class constructor, or using the static methods `Pitch.fromSPN` or `Pitch.fromChroma`.

### Class constructor

```ts
constructor(w: number, h: number);
```

Internally a pitch is defined as some number of whole steps and some number of half steps from $\sf{C}_{-1}$ (the lowest MIDI note). You can directly initialise a `Pitch` like so:

```ts
let p = new Pitch(25, 10); // coordinates for C4

p.w; // 25
p.h; // 10
```

### `Pitch.fromSPN`

```ts
static fromSPN(spn: string): Pitch;
```

It's often more convenient to initialise a `Pitch` from a string. `Pitch.fromSPN` parses a `Pitch` from [Scientific Pitch Notation](https://en.wikipedia.org/wiki/Scientific_pitch_notation):

```ts
let p = Pitch.fromSPN("C4");

p.w; // 25
p.h; // 10
```

### `Pitch.fromChroma`

```ts
static fromChroma(chroma: number, octave: number): Pitch;
```

This method allows you to initialise a `Pitch` from its "chroma", the signed distance of a note from C in perfect 5ths, and its octave using SPN numbering:

```ts
let p = Pitch.fromChroma(0, 4);

p.w; // 25
p.h; // 10
```

## Common Queries

The following methods extract information from a `Pitch` vector.

### `Pitch.midi`

```ts
get midi(): number;
```

The standard MIDI number of a `Pitch`. Throws an error if outside of the MIDI range of $\sf{C}_{-1}$ to $\sf{G}_9$:

```ts
let p = Pitch.fromSPN("C4");
p.midi; // 60

p = Pitch.fromSPN("C-1");
p.midi; // 0

p = Pitch.fromSPN("G9");
p.midi; // 127

p = Pitch.fromSPN("A-2");
p.midi; // Error: Outside of standard MIDI range: -3

p = Pitch.fromSPN("A9");
p.midi; // Error: Outside of standard MIDI range: 129
```

### `Pitch.chroma`

```ts
get chroma(): number;
```

The signed distance of a `Pitch` from C in perfect fifths.

```ts
let p = Pitch.fromSPN("D3");
p.chroma; // 2, because C G D => 0 1 2

p = Pitch.fromSPN("Eb5");
p.chroma; // -3, because Eb Bb F C => -3 -2 -1 0
```

### `Pitch.pc7`

```ts
get pc7(): number;
```

The 0-indexed 7-tone pitch class of a `Pitch`. Equivalent to a numerical representation of its letter name, where C is 0:

```ts
let p = Pitch.fromSPN("C4");
p.pc7; // 0

p = Pitch.fromSPN("F4");
p.pc7; // 3
```

### `Pitch.pc12`

```ts
get pc12(): number;
```

The 12-tone pitch class of a note. C is 0.

```ts
let p = Pitch.fromSPN("C4");
p.pc12; // 0

p = Pitch.fromSPN("E4");
p.pc12; // 4

p = Pitch.fromSPN("Fb4");
p.pc12; // also 4, due to enharmonicity in 12TET
```

### `Pitch.letter`

```ts
get letter(): string;
```

The letter component of a `Pitch` vector's standard name.

```ts
let p = Pitch.fromSPN("E4");
p.letter; // "E"
```

### `Pitch.accidental`

```ts
get accidental(): number;
```

The accidental component of a `Pitch` vector's standard name, expressed as a signed integer.
- 0 means natural.
- +1 means sharp.
- -1 means flat.
- +2 means double-sharp.
- -2 means double-flat.
- etc. for any arbitrary accidental.

```ts
let p = Pitch.fromSPN("Fx");
p.accidental; // 2

p = Pitch.fromSPN("Eb");
p.accidental; // -1

p = Pitch.fromSPN("Abbb");
p.accidental; // -3
```

### `Pitch.octave`

```ts
get octave(): number;
```

The octave number of a `Pitch` (in [SPN](https://en.wikipedia.org/wiki/Scientific_pitch_notation) numbering).

```ts
let p = Pitch.fromSPN("F4");
p.octave; // 4
```

### `Pitch.isEqual`

```ts
isEqual(p: Pitch): boolean;
```

Returns true if and only if the passed in `Pitch` vector and the current vector are identical. Note that this does **not** mean "are enharmonically equivalent in 12TET", or "have the same pitch chroma": they must literally hold the same coordinates.

```ts
let p = Pitch.fromSPN("C4");
let q = Pitch.fromSPN("C5");

p.isEqual(q); // false

q = Pitch.fromSPN("B3");
p.isEqual(q); // false

q = Pitch.fromSPN("C4");
p.isEqual(q); // true
```

### `Pitch.isEnharmonic`

```ts
isEnharmonic(p: Pitch, edo?: number): boolean;
```

Returns true if the passed in `Pitch` is enharmonic to the current `Pitch` in the passed in EDO tuning. If no second argument is passed this method defaults to 12TET. Notes will still register as enharmonic if they are in different octaves.

```ts
let p = Pitch.fromSPN("C#4");
let q = Pitch.fromSPN("Db4");

p.isEnharmonic(q); // true (in 12TET)
p.isEnharmonic(q, 31); // false (in 31EDO)

p = Pitch.fromSPN("Gbb4");
q = Pitch.fromSPN("Ex4");

p.isEnharmonic(q); // false (in 12TET)
p.isEnharmonic(q, 31); // true (in 31EDO)
```

### `Pitch.degreeIn`

```ts
degreeIn(context: TonalContext): number;
```4

Returns the scale degree number (0-indexed, such that the tonic degree is 0) represented by the `Pitch` in the passed-in [`TonalContext`](/js/tonality):

```ts
let context = TonalContext.fromStrings("C", "major");

let p = Pitch.fromSPN("C4");
p.degreeIn(context); // 0

p = Pitch.fromSPN("D4");
p.degreeIn(context); // 1

p = Pitch.fromSPN("D#4");
p.degreeIn(context); // still 1 (just an altered variant)
```

### `Pitch.alterationIn`

```ts
alterationIn(context: TonalContext): number;
```

Returns the alteration represented by the `Pitch` in the passed-in [`TonalContext`](/js/tonality).
- 0 represents a diatonic degree.
- +1 and -1 represent raised and lowered degrees respectively.
- +2 and -2 represent degrees too sharp or too flat to belong in a given TonalContext.

```ts
let context = TonalContext.fromStrings("G", "minor");

let p = Pitch.fromSPN("Bb4")
p.alterationIn(context); // 0, Bb is diatonic in D minor

p = Pitch.fromSPN("B4")
p.alterationIn(context); // 1, B is raised in D minor

p = Pitch.fromSPN("Bbb4")
p.alterationIn(context); // -2, Bbb is too flat for this context
```

## Transformations

The following methods produce a new vector from the current `Pitch`. None of them mutate the original object.

### `Pitch.intervalTo`

```ts
intervalTo(p: Pitch): Interval;
```

Returns the [`Interval`](/js/interval) from the current Pitch to another passed-in vector. Often a more convenient way to access [`Interval.between`](/js/interval/#intervalbetween)

```ts
let p = Pitch.fromSPN("C4");
let q = Pitch.fromSPN("E4");

let m = p.intervalTo(q); // m now holds a major third Interval
let n = Interval.between(p, q); // equivalent
```

### `Pitch.transposeReal`

```ts
transposeReal(m: Interval): Pitch;
```

Transposes the underlying `Pitch` by the passed in Interval vector. Returns the transposed `Pitch` as a new vector:

```ts
let p = Pitch.fromSPN("C4");
let q = Pitch.fromSPN("E4");
let m = Interval.fromName("M3");

p = p.transposeReal(m);
p.isEqual(q); // true
```

### `Pitch.invert`

```ts
invert(axis: Axis): Pitch;
```

Invert a `Pitch` about the passed in [`Axis`](/js/axis). An `Axis` is created from two `Pitches`, either passed directly via its [constructor function](/js/axis/#class-constructor), or via [`Axis.fromSPN()`](/js/axis/#axisfromspn) using two SPN strings. Returns the inverted Pitch as a new vector.

```ts
let axis = Axis.fromSPN("C4", "G4");
let p = Pitch.fromSPN("Db4");

p = p.invert(axis); // p now points to F#4
```

### `Pitch.snapTo`

```ts
snapTo(context: TonalContext): Pitch;
```

Snaps a `Pitch` vector to the diatonic position for that letter-name in
the passed-in [`TonalContext`](/js/tonality). Returns the result as a new `Pitch`:

```ts
let context = TonalContext.fromStrings("C", "major");
let p = Pitch.fromSPN("F#4");

p = p.snapTo(context); // p now points to F4
```

### `Pitch.transposeDiatonic`

```ts
transposeDiatonic(steps: number, context: TonalContext): Pitch;
```

Transposes a `Pitch` by a generic interval, snapping to diatonic values.
- Interval measured in steps, such that 0 is a unison.

```ts
let context = TonalContext.fromStrings("C", "major");
let p = Pitch.fromSPN("F#4");

p = p.transposeDiatonic(4, context); // p now points to C5
```
